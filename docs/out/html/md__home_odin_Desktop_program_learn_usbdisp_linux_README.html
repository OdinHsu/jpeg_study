<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jpeg: evdipp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jpeg
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 產生者: Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜尋','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜尋');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__home_odin_Desktop_program_learn_usbdisp_linux_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">evdipp </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/mlukaszek/evdipp"><img src="https://travis-ci.org/mlukaszek/evdipp.svg?branch=master" alt="Build Status" style="pointer-events: none;" class="inline"/></a></p>
<p>Simple C++ wrapper for <a href="https://github.com/DisplayLink/evdi">DisplayLink evdi</a> library, with some example client code. Currently undocumented, but hopefully simple enough to be useful even as-is.</p>
<h1><a class="anchor" id="autotoc_md67"></a>
Contents</h1>
<p>This project is a very simple example of how to write a complete client for DisplayLink's evdi/libevdi.</p>
<p>It includes:</p><ul>
<li>a very thin C++ wrapper for the library, called <code>libevdipp</code>,</li>
<li>a simple terminal-based example which registers a virtual screen and logs to console,</li>
<li>a more complete <code>monitorsim</code> Qt sample app which uses evdi to add an additional screen an show its contents in a window. This application uses more features of the library than the console client - for example, enables client-side mouse compositing.</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/4071821/103447188-18c8ad00-4c88-11eb-9da2-d9b544018f1a.png" alt="screenshot2021" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md68"></a>
Building</h1>
<p>You need cmake to build. EVDI is defined as external project which will be cloned from git as part of the build. As with libevdi, you need libdrm-dev package to be installed to be able to compile the library.</p>
<p>Additionally:</p><ul>
<li>to build the example terminal app, you need libev/libev++.</li>
<li>to build the Qt example, you obviously need Qt 5 dev packages installed.</li>
</ul>
<p>If you're using recent Ubuntu, you can do it by executing </p><pre class="fragment">sudo apt-get install -y libev-dev cmake libdrm-dev unzip libghc-x11-dev gcc g++ dkms libusb-1.0-0-dev
</pre><p> Then, you can build it by pretty standard chain of commands: </p><pre class="fragment">mkdir build
cd build
cmake ..
make install
</pre> <h1><a class="anchor" id="autotoc_md69"></a>
build deb package and run package</h1>
<p>sudo apt install -y dh-make cd libusbdisp make deb</p>
<h1><a class="anchor" id="autotoc_md70"></a>
Running</h1>
<p>This project assumes you are familiar with what <a href="https://github.com/DisplayLink/evdi">evdi</a> is, and how to build it for your system. Before attempting to launch any of the samples, make sure <code>evdi</code> kernel module is loaded. If you don't see it in the output of <code>lsmod</code>, run <code>modprobe evdi</code> first.</p>
<p>Any client app for EVDI at the moment must be run by root to be able to function - so, using <code>sudo</code> is required. For example, to run the <code>monitorsim</code> binary built in the <code>stage/bin</code> subdirectory of your <code>build</code> folder, use: </p><pre class="fragment">cd stage/bin
sudo monitorsim
</pre><p> Note that both the <code>example</code> app, and the Qt <code>monitorsim</code> client expect an input file with an EDID of a monitor that they should connect to evdi (which acts like a virtual graphics adapter that you need to connect to it). They will still run without it, but will use a hard-coded, single mode (800x600) EDID, which will reduce your possibilities - for example, you will not be able to change display modes for the virtual screen as it will only have one mode available.</p>
<p>You can get an EDID from any monitor you have (see <code>ls -la /sys/class/drm/*/edid</code>), or source it from the net - for example from <a href="https://chromium.googlesource.com/chromiumos/third_party/autotest/+/master/server/site_tests/display_Resolution/test_data/edids">Google's autotest project</a>. Note however that the EDIDs you use must be valid - and many are not. EVDI refuses EDIDs with invalid checksums, connection attempts will fail with <code>Invalid argument</code> error reported by the libevdi library. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">產生者: <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
